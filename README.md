# Python Cookiecutter Template

A Cookiecutter template for Python projects following modern best practices with Python 3.13+.

## Features

- **Modern Python**: Python 3.13+ with full type hints and strict type checking
- **Fast Package Manager**: Uses [uv](https://github.com/astral-sh/uv) for dependency management
- **Custom Development CLI**: Plugin-based `./dev` script for common tasks
- **Comprehensive Testing**: pytest with custom fixtures and coverage support
- **Code Quality**: Integrated black, ruff, and mypy
- **Environment-Based Configuration**: python-dotenv for environment variables
- **Configurable Logging**: Supports both human-readable and JSON structured logging
- **License Options**: Apache 2.0 or Proprietary

## Prerequisites

- [uv](https://github.com/astral-sh/uv) - Fast Python package manager

## Quick Start

### Generate a New Project

Using `uv` (recommended - no need to install Cookiecutter):

```bash
# From GitHub (replace with your username/repo)
uv run --with cookiecutter cookiecutter gh:fernandoacorreia/python-cookiecutter

# From local directory
uv run --with cookiecutter cookiecutter /path/to/python-cookiecutter
```

Alternatively, if you have Cookiecutter installed:

```bash
# From GitHub
cookiecutter gh:fernandoacorreia/python-cookiecutter

# From local directory
cookiecutter /path/to/python-cookiecutter
```

You will be prompted for:
- **project_name**: Human-readable project name (e.g., "My Awesome Project")
- **project_slug**: URL/package-friendly name with hyphens (auto-generated, e.g., "my-awesome-project")
- **package_name**: Python module name with underscores (auto-generated, e.g., "my_awesome_project")
- **project_description**: One-line description of your project
- **author_name**: Your full name
- **author_email**: Your email address
- **python_version**: Python version constraint (default: ">=3.13,<3.14")
- **license**: License type (Apache-2.0 or Proprietary)

### Post-Generation Setup

The template includes a post-generation hook that automatically:
1. Creates CLAUDE.md symlink to AGENTS.md
2. Initializes a Git repository
3. Creates an initial commit
4. Initializes virtual environment and installs dependencies (via `uv sync --dev`)

After generation, activate your environment and start coding:

```bash
cd your-project-name
source .venv/bin/activate
./dev run
```

## Generated Project Structure

```
your-project/
├── src/
│   └── your_project/          # Main package (underscores, not hyphens)
│       ├── __init__.py
│       ├── main.py            # Application entry point
│       └── py.typed           # PEP 561 type marker
│
├── tests/                     # Test suite
│   ├── __init__.py
│   ├── conftest.py           # pytest fixtures
│   ├── test_main.py          # Example tests
│   └── data/                 # Test data files
│       ├── README.md
│       └── sample.txt
│
├── scripts/                   # Development CLI
│   ├── dev.py                # Main CLI dispatcher
│   └── commands/             # Command modules
│       ├── __init__.py
│       ├── build.py          # Build distribution
│       ├── claude.py         # Claude CLI wrapper
│       ├── lint.py           # Run linters
│       ├── run.py            # Run application
│       ├── test.py           # Run tests
│       └── utils.py          # Shared utilities
│
├── .gitignore               # Git ignore rules
├── AGENTS.md                 # Claude Code instructions
├── CLAUDE.md -> AGENTS.md    # Symlink (created by hook)
├── dev                       # Development CLI entry point
├── example.env               # Environment variable template
├── LICENSE                   # Project license
├── pyproject.toml            # Project metadata and dependencies
├── README.md                 # Project documentation
└── uv.lock                   # Dependency lock file (generated by hook)
```

## Development Commands

The generated project includes a `./dev` script:

```bash
./dev --help    # Show all available commands
```

## Template Customization

### Modifying the Template

To customize this template for your needs:

1. Edit `cookiecutter.json` to add/modify variables
2. Update template files in `{{ cookiecutter.project_slug }}/`
3. Modify `hooks/post_gen_project.py` for custom post-generation tasks
4. Use Jinja2 syntax for dynamic content: `{{ cookiecutter.variable_name }}`

### Example: Adding a New Variable

1. Add to `cookiecutter.json`:
```json
{
  "project_name": "...",
  "your_new_variable": "default_value"
}
```

2. Use in template files:
```python
# In any template file
MY_CONFIG = "{{ cookiecutter.your_new_variable }}"
```

## Architecture Highlights

### Custom Development CLI
- Plugin-based architecture for easy extensibility
- Each command is a separate module in `scripts/commands/`
- Unknown arguments are forwarded to underlying tools (pytest, claude)

### Test Infrastructure
- Custom pytest fixtures: `test_data_dir` and `temp_dir`
- Automatic cleanup of temporary directories
- Example tests demonstrating best practices

### Type Safety
- Strict mypy checking for production code (`src/`)
- Relaxed checking for tests (`tests/`)
- PEP 561 compliant with `py.typed` marker

### Logging Configuration
- Environment-based configuration via `.env`
- Two formats: pretty (human-readable) and JSON (structured)
- Custom `JSONFormatter` for production logging

## License

This template itself is licensed under the Apache License 2.0.
Projects generated from this template will use the license you select during project generation (Apache 2.0 or Proprietary).

## Resources

- [Cookiecutter Documentation](https://cookiecutter.readthedocs.io/)
- [uv Documentation](https://github.com/astral-sh/uv)
- [Python Packaging Guide](https://packaging.python.org/)
- [pytest Documentation](https://docs.pytest.org/)